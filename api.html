<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Public API Overview &#8212; storage-sim  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Energy Management System" href="ems.html" />
    <link rel="prev" title="QuEST-SSim" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="public-api-overview">
<h1>Public API Overview<a class="headerlink" href="#public-api-overview" title="Link to this heading">¶</a></h1>
<p>The initial target for this project is as a component of the QuESt
tool. This will shape the public API we develop for configuring,
running, and collecting the results from simulations. QuESt is a
component-based tool for evaluating energy storage technologies. This
gives us a fair amount of flexibility for developing the storage simulator
API since when it is integrated into QuESt it will require a wrapper that
loads user data and presents the simulation results. As a minimum we should
expose three core features: simulation configuration, reporting the progress
of the simulation, and reporting the simulation results.</p>
<section id="configuring-a-simulation">
<h2>Configuring a Simulation<a class="headerlink" href="#configuring-a-simulation" title="Link to this heading">¶</a></h2>
<p>To configure a simulation we need the following information:</p>
<ul class="simple">
<li><p>a grid model</p></li>
<li><p>a storage device (or set of storage devices)</p></li>
<li><p>a location where the device is connected to the grid</p></li>
<li><p>a set of load profiles, or load models</p></li>
<li><p>a set of generation profiles or models for renewables connected to the grid</p></li>
</ul>
</section>
<section id="running-a-simulation">
<h2>Running a Simulation<a class="headerlink" href="#running-a-simulation" title="Link to this heading">¶</a></h2>
<p>To run the simulator it needs to be installed. Run this from the root
directory of the repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>This will install the stand-alone programs that are repsonsible for running
each federate. To run a simulation use the <cite>helics_cli</cite>. For example, from the
<code class="docutils literal notranslate"><span class="pre">examples</span></code> directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helics</span> <span class="n">run</span> <span class="o">--</span><span class="n">path</span><span class="o">=</span><span class="n">federation</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</section>
<section id="reporting-results">
<h2>Reporting Results<a class="headerlink" href="#reporting-results" title="Link to this heading">¶</a></h2>
<p>Once a simulation has finished we need to collect the statistics recorded
while it was running. The simplest way to report results is via a results
object. QuESt can be responsible for analysis and presentation of the data.</p>
</section>
<section id="device-api">
<h2>Device API<a class="headerlink" href="#device-api" title="Link to this heading">¶</a></h2>
<section id="module-ssim.storage">
<span id="ssim-storage"></span><h3>ssim.storage<a class="headerlink" href="#module-ssim.storage" title="Link to this heading">¶</a></h3>
<p>API for storage devices.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ssim.storage.StorageDevice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.storage.</span></span><span class="sig-name descname"><span class="pre">StorageDevice</span></span><a class="headerlink" href="#ssim.storage.StorageDevice" title="Link to this definition">¶</a></dt>
<dd><p>Abstract storage device</p>
<dl class="py property">
<dt class="sig sig-object py" id="ssim.storage.StorageDevice.kw_rated">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kw_rated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.storage.StorageDevice.kw_rated" title="Link to this definition">¶</a></dt>
<dd><p>Return kW rating of the device when in <cite>state</cite>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.storage.StorageDevice.kwh_rated">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kwh_rated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.storage.StorageDevice.kwh_rated" title="Link to this definition">¶</a></dt>
<dd><p>Return the rated kWh of the device.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.storage.StorageDevice.set_power">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.storage.StorageDevice.set_power" title="Link to this definition">¶</a></dt>
<dd><p>Set the power of this storage device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kw</strong> (<em>float</em>) – Active power. A positive value indicates power coming out
of the device (i.e. discharging). [kW]</p></li>
<li><p><strong>kvar</strong> (<em>float</em><em>, </em><em>optional</em>) – Reactive power. Specifying this also updates the power factor.
[kVAR]</p></li>
<li><p><strong>pf</strong> (<em>float</em><em>, </em><em>optional</em>) – Power factor. Float in the range [0, 1]. Specifying this also
updates the reactive power at the device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.storage.StorageDevice.soc">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">soc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.storage.StorageDevice.soc" title="Link to this definition">¶</a></dt>
<dd><p>Return the state of charge as a float between 0.0 and 1.0.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.storage.StorageDevice.state">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ssim.storage.StorageState" title="ssim.storage.StorageState"><span class="pre">StorageState</span></a></em><a class="headerlink" href="#ssim.storage.StorageDevice.state" title="Link to this definition">¶</a></dt>
<dd><p>State of the storage device</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.storage.StorageState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.storage.</span></span><span class="sig-name descname"><span class="pre">StorageState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.storage.StorageState" title="Link to this definition">¶</a></dt>
<dd><p>Enumeration of the states a storage device can be in.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.storage.StorageState.CHARGING">
<span class="sig-name descname"><span class="pre">CHARGING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'charging'</span></em><a class="headerlink" href="#ssim.storage.StorageState.CHARGING" title="Link to this definition">¶</a></dt>
<dd><p>Device is in the charging state.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.storage.StorageState.DISCHARGING">
<span class="sig-name descname"><span class="pre">DISCHARGING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'discharging'</span></em><a class="headerlink" href="#ssim.storage.StorageState.DISCHARGING" title="Link to this definition">¶</a></dt>
<dd><p>Device is in the discharging state.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.storage.StorageState.IDLE">
<span class="sig-name descname"><span class="pre">IDLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'idling'</span></em><a class="headerlink" href="#ssim.storage.StorageState.IDLE" title="Link to this definition">¶</a></dt>
<dd><p>Device is neither charging nor discharging.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="opendss-api">
<h2>OpenDSS API<a class="headerlink" href="#opendss-api" title="Link to this heading">¶</a></h2>
<p>These modules provide an API for interacting with devices in an OpenDSS
model.</p>
<section id="module-ssim.opendss">
<span id="ssim-opendss"></span><h3>ssim.opendss<a class="headerlink" href="#module-ssim.opendss" title="Link to this heading">¶</a></h3>
<p>Interface for devices that are part of an OpenDSS model.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.BusRecorder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">BusRecorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">busses</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.BusRecorder" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Recorder for data from a subset of busses.</p>
<p>Records the following information from all specified busses:</p>
<ul class="simple">
<li><p>minimum voltage [pu]</p></li>
<li><p>maximum voltage [pu]</p></li>
<li><p>name of bus with maximum voltage</p></li>
<li><p>name of bus with minimum voltage</p></li>
<li><p>total load [kW]</p></li>
<li><p>total PV generation [kW]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the recorder.</p></li>
<li><p><strong>busses</strong> (<em>Iterable</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – Set of busses to record. If None, then all busses are used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.BusRecorder.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.BusRecorder.sample" title="Link to this definition">¶</a></dt>
<dd><p>Record data at the given time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> (<em>float</em>) – The current time in seconds.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.ControlEvent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">ControlEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.ControlEvent" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.opendss.ControlEvent.action">
<span class="sig-name descname"><span class="pre">action</span></span><a class="headerlink" href="#ssim.opendss.ControlEvent.action" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.opendss.ControlEvent.element">
<span class="sig-name descname"><span class="pre">element</span></span><a class="headerlink" href="#ssim.opendss.ControlEvent.element" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.opendss.ControlEvent.time">
<span class="sig-name descname"><span class="pre">time</span></span><a class="headerlink" href="#ssim.opendss.ControlEvent.time" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.ControlLog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">ControlLog</span></span><a class="headerlink" href="#ssim.opendss.ControlLog" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Record of control actions that have been executed by OpenDSS.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.ControlLog.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.ControlLog.to_csv" title="Link to this definition">¶</a></dt>
<dd><p>Save the control log to a CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_file</strong> (<em>str</em><em> or </em><em>PathLike</em>) – Path to the output file. If the file exists it will be truncated
before writing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.ControlLog.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.ControlLog.update" title="Link to this definition">¶</a></dt>
<dd><p>Add any new control actions to the control log.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">DSSModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dss_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loadshape_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ssim.opendss.LoadShapeClass" title="ssim.opendss.LoadShapeClass"><span class="pre">LoadShapeClass</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">LoadShapeClass.DAILY</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wrapper around OpenDSSDirect.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.add_inverter_controller">
<span class="sig-name descname"><span class="pre">add_inverter_controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">der_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inv_control_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ssim.opendss.InvControl" title="ssim.opendss.InvControl"><span class="pre">InvControl</span></a></span></span><a class="headerlink" href="#ssim.opendss.DSSModel.add_inverter_controller" title="Link to this definition">¶</a></dt>
<dd><p>Add an Inverter Controller to OpenDSS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the inverter controller.</p></li>
<li><p><strong>der_list</strong> (<em>list</em>) – List of DERs that will be controlled by this inverter controller.</p></li>
<li><p><strong>inv_control_mode</strong> (<em>str</em>) – Inverter control mode to activate.</p></li>
<li><p><strong>system_parameters</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional parameters. Keys must be valid OpenDSS InvControl
object parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.add_loadshape">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_loadshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.add_loadshape" title="Link to this definition">¶</a></dt>
<dd><p>Create a Load Shape in OpenDSS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the load shape.</p></li>
<li><p><strong>file</strong> (<em>PathLike</em>) – Path to a CSV file containing the values of the load shape.</p></li>
<li><p><strong>interval</strong> (<em>float</em>) – Time between points in hours.</p></li>
<li><p><strong>npts</strong> (<em>int</em>) – Number of points in the load shape.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.add_pvsystem">
<span class="sig-name descname"><span class="pre">add_pvsystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kva_rating</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmpp_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ssim.opendss.PVSystem" title="ssim.opendss.PVSystem"><span class="pre">PVSystem</span></a></span></span><a class="headerlink" href="#ssim.opendss.DSSModel.add_pvsystem" title="Link to this definition">¶</a></dt>
<dd><p>Add a PV System to OpenDSS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the system.</p></li>
<li><p><strong>bus</strong> (<em>str</em>) – Name of the bus where the system is connected.</p></li>
<li><p><strong>phases</strong> (<em>int</em><em> or </em><em>None</em>) – Number of connected phases. If None the system is connected to all
phases present at <cite>bus</cite></p></li>
<li><p><strong>kva_rating</strong> (<em>float</em>) – Rated kVA of the PV system [kVA].</p></li>
<li><p><strong>pmpp_kw</strong> (<em>float</em>) – Power output of PV system at MPP [kW].</p></li>
<li><p><strong>system_parameters</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional parameters. Keys must be valid OpenDSS PVSystem object
parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.add_storage">
<span class="sig-name descname"><span class="pre">add_storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ssim.storage.StorageState" title="ssim.storage.StorageState"><span class="pre">StorageState</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">StorageState.IDLE</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ssim.opendss.Storage" title="ssim.opendss.Storage"><span class="pre">Storage</span></a></span></span><a class="headerlink" href="#ssim.opendss.DSSModel.add_storage" title="Link to this definition">¶</a></dt>
<dd><p>Add a storage device to OpenDSS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the storage device.</p></li>
<li><p><strong>bus</strong> (<em>str</em>) – Name of the bus where the device is connected.</p></li>
<li><p><strong>phases</strong> (<em>int</em><em> or </em><em>None</em>) – Number of connected phases. If None the device is connected to all
phases present at <cite>bus</cite></p></li>
<li><p><strong>device_parameters</strong> (<em>dict</em>) – Dictionary of additional OpenDSS storage device parameters.</p></li>
<li><p><strong>state</strong> (<a class="reference internal" href="#ssim.storage.StorageState" title="ssim.storage.StorageState"><em>StorageState</em></a>) – Initial operating state of the device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.add_voltage_recorder">
<span class="sig-name descname"><span class="pre">add_voltage_recorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">busses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.add_voltage_recorder" title="Link to this definition">¶</a></dt>
<dd><p>Monitor voltage at each bus in <cite>busses</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.add_xycurve">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_xycurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.add_xycurve" title="Link to this definition">¶</a></dt>
<dd><p>Create an XY curve in OpenDSS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the curve.</p></li>
<li><p><strong>x_values</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – X-values of the curve.</p></li>
<li><p><strong>y_values</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – Y-values of the curve.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.complex_voltage">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">complex_voltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.complex_voltage" title="Link to this definition">¶</a></dt>
<dd><p>Return a list of complex voltages of each node at ‘bus’ [pu].</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.export_model">
<span class="sig-name descname"><span class="pre">export_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.export_model" title="Link to this definition">¶</a></dt>
<dd><p>Write the grid model as a connonical set of files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_dir</strong> (<em>str</em>) – Directory where the output files will be written.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.fail_generator">
<span class="sig-name descname"><span class="pre">fail_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.fail_generator" title="Link to this definition">¶</a></dt>
<dd><p>Fail a generator.</p>
<p>Disables the generator so it cannot produce power and marks it as
failed to prevent its activation until it has been repaired.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of the generator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.fail_line">
<span class="sig-name descname"><span class="pre">fail_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">terminal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">how</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'open'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.fail_line" title="Link to this definition">¶</a></dt>
<dd><p>Fail a line.</p>
<p>This is also used to fail switches, which are modeled in OpenDSS as
lines with negligible impedance. As opposed to the “normal” way of
operating switches (through switch controls), this method operates
directly on implicit switches at each terminal of the line. If any
switch controllers are associated with the line they are locked out
to prevent normal operation while the line is out of service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the line to fail.</p></li>
<li><p><strong>terminal</strong> (<em>int</em>) – Which terminal of the line to fail (i.e. which end).</p></li>
<li><p><strong>how</strong> (<em>str</em><em>, </em><em>default 'open'</em>) – State to fail the line in. Must be one of ‘current’, ‘open’, or
‘closed’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.from_grid_spec">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_grid_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gridspec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GridSpecification</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ssim.opendss.DSSModel" title="ssim.opendss.DSSModel"><span class="pre">DSSModel</span></a></span></span><a class="headerlink" href="#ssim.opendss.DSSModel.from_grid_spec" title="Link to this definition">¶</a></dt>
<dd><p>Construct an DSSModel from a grid specification.</p>
<p>The OpenDSS model is initialized by loading <code class="docutils literal notranslate"><span class="pre">gridspec.file</span></code>. After
the model is loaded the storage devices in <code class="docutils literal notranslate"><span class="pre">gridspec.storage_devices</span></code>
are added to the model. After all storage devices have been added, the
pv systems are added.</p>
<p>For PV systems, the efficiency curve and the p-t curve may be specified
either as a parameter in <code class="xref py py-attr docutils literal notranslate"><span class="pre">grid.PVSpecification.params</span></code> or
in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">PVSpecification.inverter_efficiency</span></code> and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">PVSpecification.pt_curve</span></code> fields. If either of these fields
are specified then a new XYCurve will be created in the OpenDSS model
named “eff_&lt;pvsystem-name&gt;” or “pt_&lt;pvsystem-name&gt;”. Curve specified
this way override the value provided in
<code class="xref py py-attr docutils literal notranslate"><span class="pre">PVSpecification.params</span></code>. The irradiance profile for the PV
may be specified through a csv file in the
:py:attr: <cite>grid.PVSpecification.irradiance_profile</cite> field or as a
parameter in <code class="xref py py-attr docutils literal notranslate"><span class="pre">grid.PVSpecification.params</span></code>. Either way a new
LoadShape will be created in the OpenDSS model named
“irrad_pv_&lt;pvsystem-name&gt;”.</p>
<p>Similarly, for the storage device, the efficiency curve may be
specified as a parameter in <code class="xref py py-attr docutils literal notranslate"><span class="pre">grid.StorageSpecification.params</span></code>
or in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">StorageSpecification.inverter_efficiency'.</span> <span class="pre">If</span>
<span class="pre">either</span> <span class="pre">of</span> <span class="pre">these</span> <span class="pre">fields</span> <span class="pre">are</span> <span class="pre">specified</span> <span class="pre">then</span> <span class="pre">a</span> <span class="pre">new</span> <span class="pre">XYCurve</span> <span class="pre">will</span> <span class="pre">be</span>
<span class="pre">created</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">OpenDSS</span> <span class="pre">model</span> <span class="pre">named</span> <span class="pre">&quot;eff_storage_&lt;storagedevice-name&gt;&quot;.</span>
<span class="pre">Curve</span> <span class="pre">specified</span> <span class="pre">this</span> <span class="pre">way</span> <span class="pre">overrides</span> <span class="pre">the</span> <span class="pre">value</span> <span class="pre">provided</span> <span class="pre">in</span>
<span class="pre">:py:attr:`StorageSpecification.params</span></code>.</p>
<p>For Inv controls, the function curve may be specified
either as a parameter in <code class="xref py py-attr docutils literal notranslate"><span class="pre">grid.InvControlSpecification</span></code> or
in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">InvControlSpecification.function_curve</span></code> field. If
this field is specified then a new XYCurve will be created in the
OpenDSS model names “func_&lt;invcontrol-name&gt;”. Curve specified this
way will override the value provided in
<code class="xref py py-attr docutils literal notranslate"><span class="pre">InvControlSpecification.params</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gridspec</strong> (<em>GridSpecification</em>) – Grid specification.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An opendss grid model that matches the specification in <cite>gridspec</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ssim.opendss.DSSModel" title="ssim.opendss.DSSModel">DSSModel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.invcontrols">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">invcontrols</span></span><a class="headerlink" href="#ssim.opendss.DSSModel.invcontrols" title="Link to this definition">¶</a></dt>
<dd><p>Return the InvControls that have been added to the grid model.</p>
<p>Does not return inverter controls that are defined in the opendss
model, only those that were added with
<code class="xref py py-meth docutils literal notranslate"><span class="pre">DSSModel.add_invcontrol()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.last_update">
<span class="sig-name descname"><span class="pre">last_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#ssim.opendss.DSSModel.last_update" title="Link to this definition">¶</a></dt>
<dd><p>Return the time of the most recent power flow calculation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.loads">
<span class="sig-name descname"><span class="pre">loads</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.loads" title="Link to this definition">¶</a></dt>
<dd><p>Return an iterator over all loads in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterable of <a class="reference internal" href="#ssim.opendss.Load" title="ssim.opendss.Load">Load</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.loadshapeclass">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">loadshapeclass</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ssim.opendss.LoadShapeClass" title="ssim.opendss.LoadShapeClass"><span class="pre">LoadShapeClass</span></a></em><a class="headerlink" href="#ssim.opendss.DSSModel.loadshapeclass" title="Link to this definition">¶</a></dt>
<dd><p>The OpenDSS LoadShape class used for loads and generators.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.mean_node_voltage">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean_node_voltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.mean_node_voltage" title="Link to this definition">¶</a></dt>
<dd><p>Return the mean per-unit node voltage for all nodes at <cite>bus</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bus</strong> (<em>str</em>) – Name of the bus. Must not include any node names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Per-unit voltage.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.next_action">
<span class="sig-name descname"><span class="pre">next_action</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.next_action" title="Link to this definition">¶</a></dt>
<dd><p>Return the time of the next control action.</p>
<p>If no pending action, <code class="xref py py-attr docutils literal notranslate"><span class="pre">math.inf</span></code> is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.next_event">
<span class="sig-name descname"><span class="pre">next_event</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.next_event" title="Link to this definition">¶</a></dt>
<dd><p>Return the time of the next event that will change the grid state.</p>
<p>Events include control actions, depletion of a storage device,
or a storage device reaching its full state of charge.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Time when the next event will occur. [seconds]</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#ssim.opendss.DSSModel.next_update" title="Link to this definition">¶</a></dt>
<dd><p>Return the time of the next simulation step in seconds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.node_voltage">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">node_voltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.node_voltage" title="Link to this definition">¶</a></dt>
<dd><p>Return a list of node voltage magnitudes at <cite>bus</cite> [pu].</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.nominal_voltage">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nominal_voltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.nominal_voltage" title="Link to this definition">¶</a></dt>
<dd><p>Return a list of node voltage magnitudes at <cite>bus</cite> [pu].</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.positive_sequence_voltage">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">positive_sequence_voltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.positive_sequence_voltage" title="Link to this definition">¶</a></dt>
<dd><p>Return positive sequence voltage at <cite>bus</cite> [pu].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.pvsystems">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pvsystems</span></span><a class="headerlink" href="#ssim.opendss.DSSModel.pvsystems" title="Link to this definition">¶</a></dt>
<dd><p>Return the PV systems that have been added to the grid model.</p>
<p>Similarly to <a class="reference internal" href="#ssim.opendss.DSSModel.storage_devices" title="ssim.opendss.DSSModel.storage_devices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DSSModel.storage_devices</span></code></a>, only systems added
to the model with <a class="reference internal" href="#ssim.opendss.DSSModel.add_pvsystem" title="ssim.opendss.DSSModel.add_pvsystem"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DSSModel.add_pvsystem()</span></code></a> are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.record_state">
<span class="sig-name descname"><span class="pre">record_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.record_state" title="Link to this definition">¶</a></dt>
<dd><p>Record the values of interest at the last solution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.restore_generator">
<span class="sig-name descname"><span class="pre">restore_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.restore_generator" title="Link to this definition">¶</a></dt>
<dd><p>Repair a generator.</p>
<p>The repaired generator is reconnected to the grid, but it remains
disabled. The generator will remain disabled until it is explicitly
turned on (i.e. by the EMS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the generator</p></li>
<li><p><strong>enable</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True, the generator is re-enabled. If False the generator
remains disabled, leaving it to some other system to turn it back
on now that it is back in operation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.restore_line">
<span class="sig-name descname"><span class="pre">restore_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">terminal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">how</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'current'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.restore_line" title="Link to this definition">¶</a></dt>
<dd><p>Restore a failed line.</p>
<p>Sets the switch at <cite>terminal</cite> to the state specified by <cite>how</cite> and
unlocks any switch controllers associated with the line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the line to restore.</p></li>
<li><p><strong>terminal</strong> (<em>int</em>) – Terminal to restore.</p></li>
<li><p><strong>how</strong> (<em>str</em><em>, </em><em>default 'current'</em>) – State to restore the line to. By default the line is restored to
its current state. This effectively does nothing other than allow
switch controls (if present) to operate again. Can be any of
‘open’, ‘closed’, or ‘current’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.save_record">
<span class="sig-name descname"><span class="pre">save_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.save_record" title="Link to this definition">¶</a></dt>
<dd><p>Save the recorded simulation values to a file.</p>
<p>Saves the recorded values from the simulation to a CSV file
named “grid_state.csv” in <cite>output_dir</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_dir</strong> (<em>PathLike</em><em>, </em><em>optional</em>) – Directory to save the record in. If not specified then the
current directory is used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.solve" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the power flow on the circuit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> (<em>float</em>) – Time at which to solve. [seconds]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.storage_devices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">storage_devices</span></span><a class="headerlink" href="#ssim.opendss.DSSModel.storage_devices" title="Link to this definition">¶</a></dt>
<dd><p>The storage devices that have been added to the model.</p>
<p>Does not return storage devices that are defined in the opendss
model, only those that were added with
<a class="reference internal" href="#ssim.opendss.DSSModel.add_storage" title="ssim.opendss.DSSModel.add_storage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DSSModel.add_storage()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.total_power">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">total_power</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ssim.opendss.DSSModel.total_power" title="Link to this definition">¶</a></dt>
<dd><p>Return the total power on the circuit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>active_power</strong> (<em>float</em>) – Active power [kW]</p></li>
<li><p><strong>reactive_power</strong> (<em>float</em>) – Reactive power [kVAR]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.DSSModel.update_storage">
<span class="sig-name descname"><span class="pre">update_storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_kvar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.DSSModel.update_storage" title="Link to this definition">¶</a></dt>
<dd><p>Update active and reactive power set-points for a storage device.</p>
<p>The actual output of the device is subject to the state of the
OpenDSS model. If the state of charge is 0.0 and the device is
set to a positive <cite>p_kw</cite> not power will be produced by the device.
Similarly if the device is fully charged, but <cite>p_kw</cite> is negative,
the actual power consumed by the device will be 0.0 kW. The reactive
power consumed or injected by the device is also subject to the
inverter ratings in the OpenDSS model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the device.</p></li>
<li><p><strong>p_kw</strong> (<em>float</em>) – Active power output from the device. A negative value indicates
the device is charging, while a positive value indicates the device
is discharging. [kW]</p></li>
<li><p><strong>q_kvar</strong> (<em>float</em>) – Reactive power from the device. [kVAR]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.Generator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">Generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.Generator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interface for OpenDSS Generator objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of the generator.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.Generator.change_setpoint">
<span class="sig-name descname"><span class="pre">change_setpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kvar</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.Generator.change_setpoint" title="Link to this definition">¶</a></dt>
<dd><p>Update the generator setpoint.</p>
<p>The setpoint is only changed if <cite>self.is_operational</cite> is True,
otherwise the method does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kw</strong> (<em>float</em>) – Real power set point [kW].</p></li>
<li><p><strong>kvar</strong> (<em>float</em>) – Reactive power set point [kVAR].</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.Generator.hours_operating">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hours_operating</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.Generator.hours_operating" title="Link to this definition">¶</a></dt>
<dd><p>Return the total hours the generator has been in operation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.InvControl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">InvControl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">der_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inv_control_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.InvControl" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Representation of an inverter controller in OpenDSS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the Inv Control element. Must be unique among all Inv
Control elements on the model.</p></li>
<li><p><strong>der_list</strong> – List of PV system elements to be controlled. If not specified all
PVSystem (and Storage) in the grid model are controlled by this
InvControl.</p></li>
<li><p><strong>inv_control_mode</strong> (<em>str</em>) – Inverter control mode.</p></li>
<li><p><strong>system_parameters</strong> (<em>dict</em>) – Additional parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.Load">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">Load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.Load" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interface to an OpenDSS load object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of the load.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.Load.kvar">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kvar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.Load.kvar" title="Link to this definition">¶</a></dt>
<dd><p>Actual reactive power fom the load.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.Load.kvar_rated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kvar_rated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.Load.kvar_rated" title="Link to this definition">¶</a></dt>
<dd><p>Nominal maximum kVAR of the load</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.Load.kw">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kw</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.Load.kw" title="Link to this definition">¶</a></dt>
<dd><p>Actual real power demand from the load.</p>
<p>Accounts for load shapes etc.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.Load.kw_rated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kw_rated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.Load.kw_rated" title="Link to this definition">¶</a></dt>
<dd><p>Nominal maximum kW of the laod.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.LoadShapeClass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">LoadShapeClass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.LoadShapeClass" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Enum of OpenDSS load shape classes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.Monitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">Monitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.Monitor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Extended API for OpenDSS Monitor objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of the monitor object.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.Monitor.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.Monitor.to_csv" title="Link to this definition">¶</a></dt>
<dd><p>Save the monitor data to a csv file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>PathLike</em><em>, </em><em>optional</em>) – Path to the directory where the ouput file should be
written. If not specified the data is written to the file
name specified in OpenDSS.</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the output CSV file. If not specified the file
name is extracted from the monitor’s FileName property in
OpenDSS. This argument is only valid if <cite>directory</cite> is
specified.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.PDERecorder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">PDERecorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.PDERecorder" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Record loading across power delivery elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>names</strong> (<em>Iterable</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – Names of the power delivery elements to monitor.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.PDERecorder.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.PDERecorder.to_csv" title="Link to this definition">¶</a></dt>
<dd><p>Save the data to a CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_file</strong> (<em>str</em><em> or </em><em>pathlike</em>) – Path to the output file.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.PVSystem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">PVSystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmpp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverter_kva</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.PVSystem" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Representation of a PV system in OpenDSS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the PV system. Must be unique among all PV systems on the grid.</p></li>
<li><p><strong>bus</strong> (<em>str</em>) – Bus where the PV system is connected to the grid.</p></li>
<li><p><strong>phases</strong> (<em>int</em>) – Number of phases the PV system is connected to.</p></li>
<li><p><strong>pmpp</strong> (<em>float</em>) – Maximum power output of the PV Array.</p></li>
<li><p><strong>inverter_kva</strong> (<em>float</em>) – Maximum kVA rated for the inverter.</p></li>
<li><p><strong>system_parameters</strong> (<em>dict</em>) – Additional parameters</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.PVSystem.kvar">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kvar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.PVSystem.kvar" title="Link to this definition">¶</a></dt>
<dd><p>Current reactive power output/consumption system. [kVAR]</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.PVSystem.kw">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kw</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.PVSystem.kw" title="Link to this definition">¶</a></dt>
<dd><p>Current real power output. [kW]</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.SolutionMode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">SolutionMode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.SolutionMode" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>OpenDSS solution modes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.opendss.SolutionMode.DAILY">
<span class="sig-name descname"><span class="pre">DAILY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'daily'</span></em><a class="headerlink" href="#ssim.opendss.SolutionMode.DAILY" title="Link to this definition">¶</a></dt>
<dd><p>Follow daily load shape at the fixed simulation interval.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.opendss.SolutionMode.SNAPSHOT">
<span class="sig-name descname"><span class="pre">SNAPSHOT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'snap'</span></em><a class="headerlink" href="#ssim.opendss.SolutionMode.SNAPSHOT" title="Link to this definition">¶</a></dt>
<dd><p>snapshot powerflow (present state, no controls or loadshapes)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.opendss.SolutionMode.TIME">
<span class="sig-name descname"><span class="pre">TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'time'</span></em><a class="headerlink" href="#ssim.opendss.SolutionMode.TIME" title="Link to this definition">¶</a></dt>
<dd><p>time based solution at possible irregular time steps.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ssim.opendss.SolutionMode.YEARLY">
<span class="sig-name descname"><span class="pre">YEARLY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'yearly'</span></em><a class="headerlink" href="#ssim.opendss.SolutionMode.YEARLY" title="Link to this definition">¶</a></dt>
<dd><p>Follow yearly load shape at the fixed simulation interval.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.Storage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">Storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">StorageState.IDLE</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.Storage" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ssim.storage.StorageDevice" title="ssim.storage.StorageDevice"><code class="xref py py-class docutils literal notranslate"><span class="pre">StorageDevice</span></code></a></p>
<p>Implementation of a storage device in OpenDSS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the storage device.</p></li>
<li><p><strong>bus</strong> (<em>int</em><em> or </em><em>str</em>) – Bus where the device is connected to the grid.</p></li>
<li><p><strong>device_parameters</strong> (<em>dict</em>) – Dictionary of device parameters. Keys must be valid OpenDSS storage
object options such as ‘kVA’, and ‘kWhrated’. Keys are not case
sensitive</p></li>
<li><p><strong>phases</strong> (<em>int</em>) – Number of phases the device is connected to.</p></li>
<li><p><strong>state</strong> (<a class="reference internal" href="#ssim.storage.StorageState" title="ssim.storage.StorageState"><em>StorageState</em></a><em>, </em><em>default StorageState.IDLING</em>) – Initial state of storage device.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.Storage.kw_rated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kw_rated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.Storage.kw_rated" title="Link to this definition">¶</a></dt>
<dd><p>Return kW rating of the device when in <cite>state</cite>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.Storage.kwh_rated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kwh_rated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.Storage.kwh_rated" title="Link to this definition">¶</a></dt>
<dd><p>Return the rated kWh of the device.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.Storage.set_power">
<span class="sig-name descname"><span class="pre">set_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kvar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.Storage.set_power" title="Link to this definition">¶</a></dt>
<dd><p>Set the power of this storage device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kw</strong> (<em>float</em>) – Active power. A positive value indicates power coming out
of the device (i.e. discharging). [kW]</p></li>
<li><p><strong>kvar</strong> (<em>float</em><em>, </em><em>optional</em>) – Reactive power. Specifying this also updates the power factor.
[kVAR]</p></li>
<li><p><strong>pf</strong> (<em>float</em><em>, </em><em>optional</em>) – Power factor. Float in the range [0, 1]. Specifying this also
updates the reactive power at the device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.Storage.soc">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">soc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.opendss.Storage.soc" title="Link to this definition">¶</a></dt>
<dd><p>Return the state of charge as a float between 0.0 and 1.0.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.opendss.Storage.state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ssim.storage.StorageState" title="ssim.storage.StorageState"><span class="pre">StorageState</span></a></em><a class="headerlink" href="#ssim.opendss.Storage.state" title="Link to this definition">¶</a></dt>
<dd><p>State of the storage device</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.opendss.Storage.state_change">
<span class="sig-name descname"><span class="pre">state_change</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#ssim.opendss.Storage.state_change" title="Link to this definition">¶</a></dt>
<dd><p>Return the time until the storage device will change state.</p>
<p>A state change is any change in the power output or input
caused by the state of charge reaching either its upper or
lower limit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Seconds until the device must change state.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.opendss.VoltageRecorder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">VoltageRecorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">busses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.VoltageRecorder" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Record voltages at a set of busses.</p>
<p>Unlike <a class="reference internal" href="#ssim.opendss.BusRecorder" title="ssim.opendss.BusRecorder"><code class="xref py py-class docutils literal notranslate"><span class="pre">BusRecorder</span></code></a> this records the voltage at every bus
without any aggregation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>busses</strong> (<em>Iterable</em><em> of </em><em>str</em>) – Set of busses to record.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.opendss.all_node_voltages">
<span class="sig-prename descclassname"><span class="pre">ssim.opendss.</span></span><span class="sig-name descname"><span class="pre">all_node_voltages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.opendss.all_node_voltages" title="Link to this definition">¶</a></dt>
<dd><p>Return a dict of per-unit voltage at all nodes in the active circuit.</p>
</dd></dl>

</section>
<section id="module-ssim.dssutil">
<span id="ssim-dssutil"></span><h3>ssim.dssutil<a class="headerlink" href="#module-ssim.dssutil" title="Link to this heading">¶</a></h3>
<p>Utilities for working with OpenDSSDirect.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="ssim.dssutil.OpenDSSError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">OpenDSSError</span></span><a class="headerlink" href="#ssim.dssutil.OpenDSSError" title="Link to this definition">¶</a></dt>
<dd><p>Exception raised when an OpenDSSDirect command has failed
without raising an exception itself.</p>
<p>This can happen when using the <code class="xref py py-func docutils literal notranslate"><span class="pre">opendssdirect.run_command()</span></code>
function which reports errors by returning a non-empty string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.close_terminal">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">close_terminal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">full_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">terminal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.dssutil.close_terminal" title="Link to this definition">¶</a></dt>
<dd><p>Close the conductor(s) connecting to <cite>terminal</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>full_name</strong> (<em>str</em>) – Full name of the element to operate on (e.g. ‘storage.stor1’).</p></li>
<li><p><strong>terminal</strong> (<em>int</em>) – Terminal to close.</p></li>
<li><p><strong>conductor</strong> (<em>int</em><em>, </em><em>optional</em>) – Conductor to close. If not specified, all conductors are closed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the terminal is not a valid terminal for the circuit element
    specified by <cite>full_name</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.fingerprint">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">fingerprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.dssutil.fingerprint" title="Link to this definition">¶</a></dt>
<dd><p>Hash the grid model, returning a unique fingerprint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model_path</strong> (<em>str</em><em> or </em><em>pathlike</em>) – Directory containing the opendss model files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.iterate_properties">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">iterate_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.dssutil.iterate_properties" title="Link to this definition">¶</a></dt>
<dd><p>Iterate over the elements of type <cite>element_type</cite> yielding a named tuple
containing the values of all attributes for each element.</p>
<p>This is an extended version of <code class="docutils literal notranslate"><span class="pre">opendssdirect.utils.Iterator</span></code>. The
main differences are that this iterator can query multiple properties and
is eager whereas the opendss iterator is lazy, returning a function that
will return the requested attribute when invoked.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element_type</strong> (<em>module</em>) – OpenDSS module for the elemet type to iterate over (i.e.
<code class="docutils literal notranslate"><span class="pre">opendssdirect.Loads</span></code>)</p></li>
<li><p><strong>properties</strong> (<em>iterable</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – The names of the properties to querey for each element.
If not specified then all properties specified by
<code class="docutils literal notranslate"><span class="pre">opendssdirect.utils.getmembers(element_type)</span></code> are used.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span> <span class="o">=</span> <span class="n">iterate_properties</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">opendssdirect</span><span class="o">.</span><span class="n">Lines</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;Bus1&quot;</span><span class="p">,</span> <span class="s2">&quot;Bus2&quot;</span><span class="p">,</span> <span class="s2">&quot;Length&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<span class="go">(&quot;line1&quot;, properties(Bus1=&quot;b1.1.2.3&quot;, Bus2=&quot;b2.1.2.3&quot;, Length=2.3))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<span class="go">(&quot;line2&quot;, properties(Bus1=&quot;b1.1.2.3&quot;, Bus2=&quot;b2.1.2.3&quot;, Length=2.7))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – If one of the requested properties does not exist for the given
    element type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.load_model">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">load_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.dssutil.load_model" title="Link to this definition">¶</a></dt>
<dd><p>Load the OpenDSS model described in <cite>file</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>pathlike</em>) – Path to the OpenDSS file containing the circuit description.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>OpenDSSErrror</strong> – If the file does not exist</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.lock_switch_control">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">lock_switch_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">terminal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.dssutil.lock_switch_control" title="Link to this definition">¶</a></dt>
<dd><p>Lock any switch controllers for <cite>terminal</cite>.</p>
<p>If there is no switch control object for <cite>element</cite> then no action is
taken. If the terminal is specified then only switch controllers that
switch <cite>terminal</cite> of <cite>element</cite> are locked.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element</strong> (<em>str</em>) – Full name of the controlled opendss element.</p></li>
<li><p><strong>terminal</strong> (<em>int</em><em>, </em><em>optional</em>) – The terminal of <cite>element</cite> that the switch control is connected to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.make_opendss_params">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">make_opendss_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.dssutil.make_opendss_params" title="Link to this definition">¶</a></dt>
<dd><p>Return a string of OpenDSS paramters in <cite>dict</cite>.</p>
<p>The returned string has the form “key1=value1 key2=value2 …” for all
items in <cite>dict</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.open_terminal">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">open_terminal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">full_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">terminal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.dssutil.open_terminal" title="Link to this definition">¶</a></dt>
<dd><p>Open the conductor(s) connecting to <cite>terminal</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>full_name</strong> (<em>str</em>) – Full name of the element to operate on (e.g. ‘storage.stor1’).</p></li>
<li><p><strong>terminal</strong> (<em>int</em>) – Terminal to open.</p></li>
<li><p><strong>conductor</strong> (<em>int</em><em>, </em><em>optional</em>) – Conductor to open. If not specified, all conductors are opened.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the terminal is not a valid terminal for the circuit element
    specified by <cite>full_name</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.run_command">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">run_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#ssim.dssutil.run_command" title="Link to this definition">¶</a></dt>
<dd><p>Run an opendss command.</p>
<p>Wrapper around the <code class="xref py py-func docutils literal notranslate"><span class="pre">opendssdirect.run_command()</span></code>
function that provides error checking and transforms errors into
exceptions (or warnings).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>str</em>) – OpenDSS command to execute.</p></li>
<li><p><strong>extra_args</strong> (<em>dict</em>) – Extra parameters to be passed with the command. The dictionary is
expanded to a string of the form “key1=value1 key2=value2 …” and
appended to <cite>command</cite> before command is executed.</p></li>
<li><p><strong>warn</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True errors are reported as warnings instead of exceptions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.to_dataframe">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.dssutil.to_dataframe" title="Link to this definition">¶</a></dt>
<dd><p>Return a dataframe with the properties of all elements of type
<cite>element_type</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element_type</strong> – OpenDSSDirect module for the element type you are querying.</p></li>
<li><p><strong>properties</strong> – Names of the properties to return. These names will be the columns
of the returned DataFrame.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame indexed by element name with a column for each property in
<cite>properties</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AttributeError</strong> – For the same reasons as <a class="reference internal" href="#ssim.dssutil.iterate_properties" title="ssim.dssutil.iterate_properties"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssim.dssutil.iterate_properties()</span></code></a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#ssim.dssutil.iterate_properties" title="ssim.dssutil.iterate_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ssim.dssutil.iterate_properties</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.dssutil.unlock_switch_control">
<span class="sig-prename descclassname"><span class="pre">ssim.dssutil.</span></span><span class="sig-name descname"><span class="pre">unlock_switch_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">terminal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.dssutil.unlock_switch_control" title="Link to this definition">¶</a></dt>
<dd><p>Unlock any switch controllers for <cite>terminal</cite>.</p>
<p>If there is no switch control object for <cite>element</cite> then no action is
taken. If the terminal is specified then only switch controllers that
switch <cite>terminal</cite> of <cite>element</cite> are unlocked.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element</strong> (<em>str</em>) – Full name of the controlled opendss element.</p></li>
<li><p><strong>terminal</strong> (<em>int</em><em>, </em><em>optional</em>) – The terminal of <cite>element</cite> that the switch control is connected to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="metrics-api">
<h2>Metrics API<a class="headerlink" href="#metrics-api" title="Link to this heading">¶</a></h2>
<section id="module-ssim.metrics">
<span id="ssim-metrics"></span><h3>ssim.metrics<a class="headerlink" href="#module-ssim.metrics" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ssim.metrics.ImprovementType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.metrics.</span></span><span class="sig-name descname"><span class="pre">ImprovementType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.metrics.ImprovementType" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>An enumeration that is used to indicate the “sense” for a metric.</p>
<p>This indicates whether a metric is better when minimized, maximized, etc.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.ImprovementType.parse">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.metrics.ImprovementType.parse" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>A utility method to parse a string into a member of the</dt><dd><p>ImprovementType enumeration.</p>
</dd>
</dl>
<p>This will match the words minimize, min, maximize, max, seek value,
seekvalue, seek, and the digits 0, 1, and 2.  The matching is case
insensitive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>str</strong> (<em>str</em>) – The string to try and parse into a member of the ImprovementType
enumeration.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This returns the member of the enumeration that it matches to the
supplied string.  If one cannot be matched, the return is None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ssim.metrics.ImprovementType" title="ssim.metrics.ImprovementType">ImprovementType</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.metrics.Metric">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.metrics.</span></span><span class="sig-name descname"><span class="pre">Metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imp_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ssim.metrics.ImprovementType" title="ssim.metrics.ImprovementType"><span class="pre">ImprovementType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">g</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.metrics.Metric" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class used to normalize metric values for subsequence combination and comparison.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lower_limit</strong> (<em>float</em>) – The lowest acceptable value for the metric if it is a maximization or seek value type.
This value is not used for minimization type metrics.</p></li>
<li><p><strong>upper_limit</strong> (<em>float</em>) – The highest acceptable value for the metric if it is a minimization or seek value type.
This value is not used for maximization type metrics.</p></li>
<li><p><strong>objective</strong> (<em>float</em>) – The target value which if obtained, provides full satisfaction.</p></li>
<li><p><strong>imp_type</strong> (<a class="reference internal" href="#ssim.metrics.ImprovementType" title="ssim.metrics.ImprovementType"><em>ImprovementType</em></a>) – <p>The desired sense of the metric such as Minimize or Maximize.</p>
<p>If this input is not provided, then a default is determined based on
the limits and objective.</p>
</p></li>
<li><p><strong>a</strong> (<em>float</em>) – The parameter that controls the curvature of the normalization function
beyond a limit (on the bad side of a limit).  It is recommended that
you use the default value.</p></li>
<li><p><strong>b</strong> (<em>float</em>) – The parameter that controls the slope of the normalization curve at a
limit.  It is recommended that you use the default value.</p></li>
<li><p><strong>c</strong> (<em>float</em>) – Sets the normalized value (y value) at a limit.  It is recommended
that you use the default value.</p></li>
<li><p><strong>g</strong> (<em>float</em>) – The parameter that controls the curvature of the normalization function
above the objective (on the good side of the objective).  It is
recommended that you use the default value.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.Metric.improvement_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">improvement_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ssim.metrics.ImprovementType" title="ssim.metrics.ImprovementType"><span class="pre">ImprovementType</span></a></em><a class="headerlink" href="#ssim.metrics.Metric.improvement_type" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Allows access to the supplied improvement type or “sense” for this</dt><dd><p>metric.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The enumeration member that indicates the sense of this metric
(minimize, maximize, etc.)..</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#ssim.metrics.ImprovementType" title="ssim.metrics.ImprovementType">ImprovementType</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.Metric.lower_limit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lower_limit</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.metrics.Metric.lower_limit" title="Link to this definition">¶</a></dt>
<dd><p>Allows access to the supplied lower limit value for this metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The lowest acceptable value for this metric.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.Metric.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#ssim.metrics.Metric.normalize" title="Link to this definition">¶</a></dt>
<dd><p>Convert a raw metric value into a normalized fitness value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – The raw metric value in natural units.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A normalized value based on the supplied raw value, this metrics
limit values, the objective, and the other curve parameters of this metric.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.Metric.objective">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">objective</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.metrics.Metric.objective" title="Link to this definition">¶</a></dt>
<dd><p>Allows access to the supplied objective value for this metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The value that provides full satisfaction for this metric.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.Metric.read_toml">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_toml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tomlData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ssim.metrics.Metric" title="ssim.metrics.Metric"><span class="pre">Metric</span></a></span></span><a class="headerlink" href="#ssim.metrics.Metric.read_toml" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Reads the properties of a metric class instance from a TOML</dt><dd><p>formatted dictionary and creates and returns a new Metric instance.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tomlData</strong> (<em>dict</em>) – The dictionary that contains the metric properties from which to
create a new metric instance.  The minimum set of keys that must
be present are “lower_limit”, “upper_limit”, “objective”, and “sense”.
“sense” must point to something that can be parsed to an ImprovementType
enumeration value.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A newly created metric made using the properties in the supplied
TOML dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ssim.metrics.Metric" title="ssim.metrics.Metric">Metric</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.Metric.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#ssim.metrics.Metric.to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Return a dictionary representation of this metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – The key to which this metric is mapped by a metric owner.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary representation of the metric. Include keys “name”,
“objective”, “upper_limit”, and “lower_limit”.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.Metric.upper_limit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">upper_limit</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.metrics.Metric.upper_limit" title="Link to this definition">¶</a></dt>
<dd><p>Allows access to the supplied upper limit value for this metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The highest acceptable value for this metric.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.Metric.validate_metric_values">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">validate_metric_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imp_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ssim.metrics.ImprovementType" title="ssim.metrics.ImprovementType"><span class="pre">ImprovementType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_assert</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#ssim.metrics.Metric.validate_metric_values" title="Link to this definition">¶</a></dt>
<dd><p>Tests the validity/usability of the metric values provided.</p>
<p>This will either return an error string or throw an exception with an
error message.  Which it does will be determined by the do_assert
parameter.  The requirements are that:</p>
<blockquote>
<div><p>The objective cannot be None.
The improvement type cannot be None.
if the imp_type is minimize, the upper_limit must not be None.
If the imp_type is maximize, the lower_limit must not be None.
If the imp_type is seek value, then neither limit can be None.
If there is a lower_limit, then it must be less than the objective.
If there is an upper_limit, then it must be greater than the objective.</p>
</div></blockquote>
<p>Neither limit can be equal to the objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lower_limit</strong> (<em>float</em>) – The lowest acceptable value for a metric.</p></li>
<li><p><strong>upper_limit</strong> (<em>float</em>) – The highest acceptable value for a metric.</p></li>
<li><p><strong>objective</strong> (<em>float</em>) – The target value which if obtained, provides full satisfaction.</p></li>
<li><p><strong>imp_type</strong> (<a class="reference internal" href="#ssim.metrics.ImprovementType" title="ssim.metrics.ImprovementType"><em>ImprovementType</em></a>) – The desired sense of a metric such as Minimize or Maximize.</p></li>
<li><p><strong>do_assert</strong> (<em>bool</em>) – A flag that indicates whether this method should throw an exception
(true) or return an error message as a string (false).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This method either throws an exception or returns a string
depending on the value of do_assert.  Either way, the message is
determined using the conditions laid out in the description.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError:</strong> – If any of the conditions listed in the description are present and
    the do_assert parameter is set to true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.Metric.write_toml">
<span class="sig-name descname"><span class="pre">write_toml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#ssim.metrics.Metric.write_toml" title="Link to this definition">¶</a></dt>
<dd><p>Writes the properties of this class instance to a string in TOML format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category</strong> (<em>str</em>) – The category under which this metric is being stored if any.  This
would be passed in from a metric owner and is optional.  If it is
None, then the category tag will not be written.</p></li>
<li><p><strong>key</strong> (<em>str</em>) – The key to which this metric is mapped by a metric owner.  This
value is optional.  If the key is None, then no key tag will be
written.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TOML formatted string with the properties of this instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.metrics.MetricAccumulator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.metrics.</span></span><span class="sig-name descname"><span class="pre">MetricAccumulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ssim.metrics.Metric" title="ssim.metrics.Metric"><span class="pre">Metric</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.metrics.MetricAccumulator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class used to accumulate normalized metric values over time.</p>
<p>This class is rarely used directly.  Its primary purpose is as a base
class providing functionality to for example, the MetricTimeAccumulator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<a class="reference internal" href="#ssim.metrics.Metric" title="ssim.metrics.Metric"><em>Metric</em></a>) – The metric whose value will be accumulated over time.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricAccumulator.accumulate">
<span class="sig-name descname"><span class="pre">accumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#ssim.metrics.MetricAccumulator.accumulate" title="Link to this definition">¶</a></dt>
<dd><p>Adds in normalized value weighted by the amount of time provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em>) – The raw metric value to be normalized and accumulated into this
accumulator. This value will be normalized by the contained Metric.</p></li>
<li><p><strong>d_time</strong> (<em>float</em>) – The amount of time over which the provided value applies.  This is
used as a weighting factor in the accumulation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The result of normalizing the supplied value parameter.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.MetricAccumulator.accumulated_value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">accumulated_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.metrics.MetricAccumulator.accumulated_value" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Allows access to the current accumulation value.  This is the time</dt><dd><p>weighted sum of normalized values.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current time weighted sum of normalized values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.MetricAccumulator.denormalized_value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">denormalized_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.metrics.MetricAccumulator.denormalized_value" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Allows access to the current total accumulation divided by the total</dt><dd><p>time.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current total accumulation over the total time accumulated so far.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.MetricAccumulator.metric">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metric</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ssim.metrics.Metric" title="ssim.metrics.Metric"><span class="pre">Metric</span></a></em><a class="headerlink" href="#ssim.metrics.MetricAccumulator.metric" title="Link to this definition">¶</a></dt>
<dd><p>Allows access to the Metric being used by this accumulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The metric that underlies this accumulator.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#ssim.metrics.Metric" title="ssim.metrics.Metric">Metric</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricAccumulator.read_toml">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_toml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tomlData</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ssim.metrics.MetricAccumulator" title="ssim.metrics.MetricAccumulator"><span class="pre">MetricAccumulator</span></a></span></span><a class="headerlink" href="#ssim.metrics.MetricAccumulator.read_toml" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Reads the properties of a metric accumulator class instance from a</dt><dd><p>TOML formatted dictionary and creates and returns a new
MetricAccumulator instance.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tomlData</strong> (<em>dict</em>) – The dictionary that contains the metric accumulator properties from
which to create a new instance.  The minimum set of keys that must
be present are only those associated with a Metric.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A newly created metric accumulator made using the properties in the
supplied TOML dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ssim.metrics.MetricAccumulator" title="ssim.metrics.MetricAccumulator">MetricAccumulator</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricAccumulator.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#ssim.metrics.MetricAccumulator.to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Return a dictionary representation of the metric being accumulated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – The key to which this metric accumulator is mapped by a metric
owner.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary representation of the metric managed by this accumulator.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.MetricAccumulator.total_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">total_time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.metrics.MetricAccumulator.total_time" title="Link to this definition">¶</a></dt>
<dd><p>Allows access to the current sum of all accumulated time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current sum of all accumulated time.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricAccumulator.write_toml">
<span class="sig-name descname"><span class="pre">write_toml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#ssim.metrics.MetricAccumulator.write_toml" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Writes the properties of this class instance to a string in TOML</dt><dd><p>format.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category</strong> (<em>str</em>) – The category under which this metric accumulator is being stored if
any. This would be passed in from a metric owner and is optional.
If it is None, then the category tag will not be written.</p></li>
<li><p><strong>key</strong> (<em>str</em>) – The key to which this metric accumulator is mapped by a metric
owner. This value is optional.  If the key is None, then no key tag
will be written.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TOML formatted string with the properties of this instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.metrics.MetricManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.metrics.</span></span><span class="sig-name descname"><span class="pre">MetricManager</span></span><a class="headerlink" href="#ssim.metrics.MetricManager" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class used to manage a set of metric accumulators keyed on names.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricManager.add_accumulator">
<span class="sig-name descname"><span class="pre">add_accumulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ssim.metrics.MetricTimeAccumulator" title="ssim.metrics.MetricTimeAccumulator"><span class="pre">MetricTimeAccumulator</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.metrics.MetricManager.add_accumulator" title="Link to this definition">¶</a></dt>
<dd><p>Adds a new time accumulator to this metric manager.</p>
<p>If the supplied accumulator is None, this will actually remove an
existing metric by name if one exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name to use as a key for the new accumulator.  This key can be
used to get the accumulator back using get_accumulator.</p></li>
<li><p><strong>accum</strong> (<a class="reference internal" href="#ssim.metrics.MetricTimeAccumulator" title="ssim.metrics.MetricTimeAccumulator"><em>MetricTimeAccumulator</em></a>) – The new accumulator to map to the given name.  If this argument is
None, then this actually may result in the removal of a metric.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.MetricManager.all_metrics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#ssim.metrics.MetricManager.all_metrics" title="Link to this definition">¶</a></dt>
<dd><p>Allows access to the mapping of all metrics in this manager.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The map of all metrics with keys (names) mapped to MetricTimeAccumulator
instances.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricManager.get_accumulator">
<span class="sig-name descname"><span class="pre">get_accumulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ssim.metrics.MetricTimeAccumulator" title="ssim.metrics.MetricTimeAccumulator"><span class="pre">MetricTimeAccumulator</span></a></span></span><a class="headerlink" href="#ssim.metrics.MetricManager.get_accumulator" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Retrieves an existing time accumulator from this metric manager</dt><dd><p>using the supplied name.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The key name that was used to add the accumulator that you now want
to access.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The metric accumulator associated with the supplied key or None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ssim.metrics.MetricTimeAccumulator" title="ssim.metrics.MetricTimeAccumulator">MetricTimeAccumulator</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ssim.metrics.MetricManager.get_total_accumulation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_total_accumulation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ssim.metrics.MetricManager.get_total_accumulation" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Computes and returns the total accumulated metric value over all</dt><dd><p>accumulators stored in this manager.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The sum of all accumulated values of all accumulators in this
manager.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricManager.read_toml">
<span class="sig-name descname"><span class="pre">read_toml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tomlData</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.metrics.MetricManager.read_toml" title="Link to this definition">¶</a></dt>
<dd><p>Reads the properties of this class instance from a TOML formated dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tomlData</strong> – A TOML formatted dictionary from which to read the properties of this class
instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricManager.remove_accumulator">
<span class="sig-name descname"><span class="pre">remove_accumulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#ssim.metrics.MetricManager.remove_accumulator" title="Link to this definition">¶</a></dt>
<dd><p>Removes an existing time accumulator from this metric manager</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The key name that was used to add the accumulator that you now want
to remove.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if an accumulator keyed on name is found and removed and false
otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricManager.to_dicts">
<span class="sig-name descname"><span class="pre">to_dicts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ssim.metrics.MetricManager.to_dicts" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return a list of dictionaries representing all of the metrics being</dt><dd><p>managed by this manager.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of dictionaries representing all of the metrics managed by this manager.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricManager.write_toml">
<span class="sig-name descname"><span class="pre">write_toml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#ssim.metrics.MetricManager.write_toml" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Writes the properties of this class instance to a string in TOML</dt><dd><p>format.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>category</strong> (<em>str</em>) – The category under which this metric manager is being stored if
any. This would be passed in from a metric owner and is optional.
If it is None, then the category tag will not be written.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TOML formatted string with the properties of this instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.metrics.MetricTimeAccumulator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.metrics.</span></span><span class="sig-name descname"><span class="pre">MetricTimeAccumulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ssim.metrics.Metric" title="ssim.metrics.Metric"><span class="pre">Metric</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.metrics.MetricTimeAccumulator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ssim.metrics.MetricAccumulator" title="ssim.metrics.MetricAccumulator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricAccumulator</span></code></a></p>
<p>A class used to accumulate a normalize metric value over time.</p>
<p>This class differs from (specializes) the MetricAccumulator class in that
it always keeps track of the current time as the last time a call was made
to accumulate.  It then provides the delta T to the base and updates its
current time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<a class="reference internal" href="#ssim.metrics.Metric" title="ssim.metrics.Metric"><em>Metric</em></a>) – The metric whose value will be accumulated over time.</p></li>
<li><p><strong>init_time</strong> (<em>float</em>) – The time to be the initial “current time” for this accumulator.
The default is 0.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricTimeAccumulator.accumulate">
<span class="sig-name descname"><span class="pre">accumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">curr_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#ssim.metrics.MetricTimeAccumulator.accumulate" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Adds in normalized value weighted by the difference between the last</dt><dd><p>time this method was called and the time provided.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em>) – The raw metric value to be normalized and accumulated into this
accumulator. This value will be normalized by the contained Metric.</p></li>
<li><p><strong>curr_time</strong> (<em>float</em>) – The simulation time of this call to be used along with the last
time this method was called for accumulation purposes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The result of normalizing the supplied value parameter.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.metrics.MetricTimeAccumulator.read_toml">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_toml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tomlData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ssim.metrics.MetricTimeAccumulator" title="ssim.metrics.MetricTimeAccumulator"><span class="pre">MetricTimeAccumulator</span></a></span></span><a class="headerlink" href="#ssim.metrics.MetricTimeAccumulator.read_toml" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Reads the properties of a metric time accumulator class instance</dt><dd><p>from a TOML formatted dictionary and creates and returns a new
MetricTimeAccumulator instance.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tomlData</strong> – The dictionary that contains the metric time accumulator properties
from which to create a new instance.  The minimum set of keys that
must be present are only those associated with a Metric.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A newly created metric time accumulator made using the properties
in the supplied TOML dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ssim.metrics.MetricTimeAccumulator" title="ssim.metrics.MetricTimeAccumulator">MetricTimeAccumulator</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.metrics.get_default_improvement_type">
<span class="sig-prename descclassname"><span class="pre">ssim.metrics.</span></span><span class="sig-name descname"><span class="pre">get_default_improvement_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ssim.metrics.ImprovementType" title="ssim.metrics.ImprovementType"><span class="pre">ImprovementType</span></a></span></span><a class="headerlink" href="#ssim.metrics.get_default_improvement_type" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>A utility method to choose an appropriate improvement type based on the</dt><dd><p>supplied limit and objective.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> (<em>float</em>) – The worst acceptable value for the metric.</p></li>
<li><p><strong>objective</strong> (<em>float</em>) – The target value which if obtained, provides full satisfaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This returns ImprovementType.Minimize if the limit is less than the
objective, ImprovementType.Maximize if the limit is greater than the
objective, and None if the limit is equal to the objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ssim.metrics.ImprovementType" title="ssim.metrics.ImprovementType">ImprovementType</a></p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="federates">
<h2>Federates<a class="headerlink" href="#federates" title="Link to this heading">¶</a></h2>
<section id="module-ssim.federates.opendss">
<span id="ssim-federates-opendss"></span><h3>ssim.federates.opendss<a class="headerlink" href="#module-ssim.federates.opendss" title="Link to this heading">¶</a></h3>
<p>Federate for OpenDSS grid simulation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.opendss.EventLog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.opendss.</span></span><span class="sig-name descname"><span class="pre">EventLog</span></span><a class="headerlink" href="#ssim.federates.opendss.EventLog" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A record of all events that have occured.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.EventLog.add_event">
<span class="sig-name descname"><span class="pre">add_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.EventLog.add_event" title="Link to this definition">¶</a></dt>
<dd><p>Add an event to the event log.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>float</em>) – Time at which the event occured.</p></li>
<li><p><strong>event</strong> (<em>reliability.Event</em>) – The reliability event.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.EventLog.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.EventLog.to_csv" title="Link to this definition">¶</a></dt>
<dd><p>Save the event log to a file in <cite>output_dir</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_dir</strong> (<em>PathLike</em><em>, </em><em>optional</em>) – The directory to save the output file in. If not
specified, the current directory is used.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.opendss.GeneratorInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.opendss.</span></span><span class="sig-name descname"><span class="pre">GeneratorInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.GeneratorInterface" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>HELICS interface for generators connected to the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>federate</strong> (<em>HelicsCombinationFederate</em>)</p></li>
<li><p><strong>generator</strong> (<a class="reference internal" href="#ssim.opendss.Generator" title="ssim.opendss.Generator"><em>opendss.Generator</em></a>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.GeneratorInterface.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.GeneratorInterface.update" title="Link to this definition">¶</a></dt>
<dd><p>Update inputs for the generator.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.opendss.GridFederate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.opendss.</span></span><span class="sig-name descname"><span class="pre">GridFederate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HelicsCombinationFederate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.GridFederate" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manage HELICS interfaces for reliability and storage devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>federate</strong> (<em>HelicsCombinationFederate</em>) – HELICS federate handle. Assumed to already have the publications
and subscriptions needed for the grid configuration specified in
<cite>grid_file</cite>.</p></li>
<li><p><strong>grid_file</strong> (<em>str</em>) – Path to the JSON grid configuration file.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.GridFederate.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.GridFederate.finalize" title="Link to this definition">¶</a></dt>
<dd><p>Clean up the grid state and save output files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.GridFederate.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.GridFederate.run" title="Link to this definition">¶</a></dt>
<dd><p>Run the simulation for <cite>hours</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.GridFederate.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.GridFederate.step" title="Link to this definition">¶</a></dt>
<dd><p>Step the opendss model to <cite>time</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> (<em>float</em>) – Time in seconds.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.opendss.LoadInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.opendss.</span></span><span class="sig-name descname"><span class="pre">LoadInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.LoadInterface" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manager for output to other federates related to loads.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>federate</strong> (<em>HelicsFederate</em>) – HELICS federate handle.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.LoadInterface.publish">
<span class="sig-name descname"><span class="pre">publish</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.LoadInterface.publish" title="Link to this definition">¶</a></dt>
<dd><p>Send status updates to the EMS federate control endpoint</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.LoadInterface.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.LoadInterface.update" title="Link to this definition">¶</a></dt>
<dd><p>Update the loads in response to input.</p>
<p>Loads do not currently respond to input, so this method does
nothing.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.opendss.PVInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.opendss.</span></span><span class="sig-name descname"><span class="pre">PVInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvsystem</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.PVInterface" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manager for the output to other federates related to PV Systems</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>federate</strong> (<em>HelicsFederate</em>) – HELICS federate handle.</p></li>
<li><p><strong>pvsystem</strong> (<a class="reference internal" href="#ssim.opendss.PVSystem" title="ssim.opendss.PVSystem"><em>PVSystem</em></a>) – PVSystem instance providing access to the opendss model.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.PVInterface.publish">
<span class="sig-name descname"><span class="pre">publish</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.PVInterface.publish" title="Link to this definition">¶</a></dt>
<dd><p>Send message to the EMS with the current status of the PV system.</p>
<p>Current real and reactive power are reported to the EMS.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.PVInterface.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.PVInterface.update" title="Link to this definition">¶</a></dt>
<dd><p>Update PVSystem model in response to federate input.</p>
<p>Since PVSystems are not dispatchable this does nothing; however,
in the future it could be used to support curtailment or other
operations managed by the EMS.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.opendss.ReliabilityInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.opendss.</span></span><span class="sig-name descname"><span class="pre">ReliabilityInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.ReliabilityInterface" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wrapper around the HELICS endpoint for reliability.</p>
<p>Handles the interaction with the “reliability” endpoint, including
iteration over all pending receives and parsing messages into reliability
events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>federate</strong> (<em>HelicsCombinationFederate</em>) – Federate handle. Must have an endpoint named “reliability”.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="ssim.federates.opendss.ReliabilityInterface.events">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">events</span></span><a class="headerlink" href="#ssim.federates.opendss.ReliabilityInterface.events" title="Link to this definition">¶</a></dt>
<dd><p>An iterator over all pending reliability events.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.opendss.StorageInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.opendss.</span></span><span class="sig-name descname"><span class="pre">StorageInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.StorageInterface" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>HELICS publications and subscriptions related to a storage device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>federate</strong> – HELICS federate handle.</p></li>
<li><p><strong>device</strong> (<a class="reference internal" href="#ssim.opendss.Storage" title="ssim.opendss.Storage"><em>Storage</em></a>) – The storage device.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.StorageInterface.publish">
<span class="sig-name descname"><span class="pre">publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.StorageInterface.publish" title="Link to this definition">¶</a></dt>
<dd><p>Publish all values associated with the device.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.opendss.StorageInterface.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.StorageInterface.update" title="Link to this definition">¶</a></dt>
<dd><p>Update inputs for the storage device.</p>
<p>If the power subscription has been updated then the device model
is updated with the new power setting.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.federates.opendss.run">
<span class="sig-prename descclassname"><span class="pre">ssim.federates.opendss.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.opendss.run" title="Link to this definition">¶</a></dt>
<dd><p>Federate entry point.</p>
</dd></dl>

</section>
<section id="module-ssim.federates.storage">
<span id="ssim-federates-storage"></span><h3>ssim.federates.storage<a class="headerlink" href="#module-ssim.federates.storage" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.storage.CycleController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.storage.</span></span><span class="sig-name descname"><span class="pre">CycleController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.CycleController" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ssim.federates.storage.StorageController" title="ssim.federates.storage.StorageController"><code class="xref py py-class docutils literal notranslate"><span class="pre">StorageController</span></code></a></p>
<p>Operate a device by cycling between charging and discharging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>device</strong> (<em>StorageSpecification</em>) – Device that is being controlled.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.CycleController.apply_control">
<span class="sig-name descname"><span class="pre">apply_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">control_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.CycleController.apply_control" title="Link to this definition">¶</a></dt>
<dd><p>Apply external control actions (i.e. from the EMS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>control_messages</strong> (<em>Iterable</em><em>[</em><em>bytes</em><em>]</em>) – Iterator over all pending control messages.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.CycleController.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.CycleController.next_update" title="Link to this definition">¶</a></dt>
<dd><p>Returns the next time the storage controller needs to be updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.CycleController.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#ssim.federates.storage.CycleController.step" title="Link to this definition">¶</a></dt>
<dd><p>Return the target power output of the storage device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>float</em>) – Current time in seconds.</p></li>
<li><p><strong>voltage</strong> (<em>float</em>) – Voltage at the bus where the device is connected. [pu]</p></li>
<li><p><strong>soc</strong> (<em>float</em>) – State of charge of the storage device as a fraction of its total
capacity.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.storage.DroopController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.storage.</span></span><span class="sig-name descname"><span class="pre">DroopController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p_droop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_droop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StorageSpecification</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.DroopController" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ssim.federates.storage.StorageController" title="ssim.federates.storage.StorageController"><code class="xref py py-class docutils literal notranslate"><span class="pre">StorageController</span></code></a></p>
<p>Simple droop controller</p>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.DroopController.apply_control">
<span class="sig-name descname"><span class="pre">apply_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">control_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.DroopController.apply_control" title="Link to this definition">¶</a></dt>
<dd><p>Apply external control actions (i.e. from the EMS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>control_messages</strong> (<em>Iterable</em><em>[</em><em>bytes</em><em>]</em>) – Iterator over all pending control messages.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.DroopController.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.DroopController.next_update" title="Link to this definition">¶</a></dt>
<dd><p>Returns the next time the storage controller needs to be updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.DroopController.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#ssim.federates.storage.DroopController.step" title="Link to this definition">¶</a></dt>
<dd><p>Return the target power output of the storage device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>float</em>) – Current time in seconds.</p></li>
<li><p><strong>voltage</strong> (<em>float</em>) – Voltage at the bus where the device is connected. [pu]</p></li>
<li><p><strong>soc</strong> (<em>float</em>) – State of charge of the storage device as a fraction of its total
capacity.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.storage.ExternalController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.storage.</span></span><span class="sig-name descname"><span class="pre">ExternalController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.ExternalController" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ssim.federates.storage.StorageController" title="ssim.federates.storage.StorageController"><code class="xref py py-class docutils literal notranslate"><span class="pre">StorageController</span></code></a></p>
<p>Controller for a storage device that is dispatched by an external EMS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>device</strong> (<em>grid.StorageSpecification</em>) – Specification of the device being controlled.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.ExternalController.apply_control">
<span class="sig-name descname"><span class="pre">apply_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">control_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.ExternalController.apply_control" title="Link to this definition">¶</a></dt>
<dd><p>Apply external control actions (i.e. from the EMS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>control_messages</strong> (<em>Iterable</em><em>[</em><em>bytes</em><em>]</em>) – Iterator over all pending control messages.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.ExternalController.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.ExternalController.next_update" title="Link to this definition">¶</a></dt>
<dd><p>Returns the next time the storage controller needs to be updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.ExternalController.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#ssim.federates.storage.ExternalController.step" title="Link to this definition">¶</a></dt>
<dd><p>Return the target power output of the storage device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>float</em>) – Current time in seconds.</p></li>
<li><p><strong>voltage</strong> (<em>float</em>) – Voltage at the bus where the device is connected. [pu]</p></li>
<li><p><strong>soc</strong> (<em>float</em>) – State of charge of the storage device as a fraction of its total
capacity.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.storage.NoController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.storage.</span></span><span class="sig-name descname"><span class="pre">NoController</span></span><a class="headerlink" href="#ssim.federates.storage.NoController" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ssim.federates.storage.StorageController" title="ssim.federates.storage.StorageController"><code class="xref py py-class docutils literal notranslate"><span class="pre">StorageController</span></code></a></p>
<p>Controller that does nothing.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.NoController.apply_control">
<span class="sig-name descname"><span class="pre">apply_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">control_messages</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.NoController.apply_control" title="Link to this definition">¶</a></dt>
<dd><p>Apply external control actions (i.e. from the EMS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>control_messages</strong> (<em>Iterable</em><em>[</em><em>bytes</em><em>]</em>) – Iterator over all pending control messages.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.NoController.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.NoController.next_update" title="Link to this definition">¶</a></dt>
<dd><p>Returns the next time the storage controller needs to be updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.NoController.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.NoController.step" title="Link to this definition">¶</a></dt>
<dd><p>Return the target power output of the storage device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>float</em>) – Current time in seconds.</p></li>
<li><p><strong>voltage</strong> (<em>float</em>) – Voltage at the bus where the device is connected. [pu]</p></li>
<li><p><strong>soc</strong> (<em>float</em>) – State of charge of the storage device as a fraction of its total
capacity.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.storage.StorageController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.storage.</span></span><span class="sig-name descname"><span class="pre">StorageController</span></span><a class="headerlink" href="#ssim.federates.storage.StorageController" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Base class for storage controllers.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.StorageController.apply_control">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">apply_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">control_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.StorageController.apply_control" title="Link to this definition">¶</a></dt>
<dd><p>Apply external control actions (i.e. from the EMS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>control_messages</strong> (<em>Iterable</em><em>[</em><em>bytes</em><em>]</em>) – Iterator over all pending control messages.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.StorageController.next_update">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.StorageController.next_update" title="Link to this definition">¶</a></dt>
<dd><p>Returns the next time the storage controller needs to be updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.storage.StorageController.step">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#ssim.federates.storage.StorageController.step" title="Link to this definition">¶</a></dt>
<dd><p>Return the target power output of the storage device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>float</em>) – Current time in seconds.</p></li>
<li><p><strong>voltage</strong> (<em>float</em>) – Voltage at the bus where the device is connected. [pu]</p></li>
<li><p><strong>soc</strong> (<em>float</em>) – State of charge of the storage device as a fraction of its total
capacity.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.federates.storage.pending_messages">
<span class="sig-prename descclassname"><span class="pre">ssim.federates.storage.</span></span><span class="sig-name descname"><span class="pre">pending_messages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.storage.pending_messages" title="Link to this definition">¶</a></dt>
<dd><p>Iterator over all pending messages received at <cite>endpoint</cite>.</p>
<p>The iterator yields the raw data from the message, it is not parsed
or processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>endpoint</strong> (<em>HelicsEndpoint</em>) – The endpoint to receive from.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-ssim.federates.logger">
<span id="ssim-federates-logger"></span><h3>ssim.federates.logger<a class="headerlink" href="#module-ssim.federates.logger" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.logger.HelicsLogger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.logger.</span></span><span class="sig-name descname"><span class="pre">HelicsLogger</span></span><a class="headerlink" href="#ssim.federates.logger.HelicsLogger" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Base class for loggers that record values from HELICS federates.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.HelicsLogger.finalize">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.HelicsLogger.finalize" title="Link to this definition">¶</a></dt>
<dd><p>Done recording data.</p>
<p>This can be overridden to save data to file or a database, produce
visualizations, or whatever else needs to be done.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.HelicsLogger.initialize">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HelicsFederate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.HelicsLogger.initialize" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the logger by setting up its subscriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>federate</strong> (<em>HelicsFederate</em>) – HELICS federate handle to use for for registering subscriptions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.HelicsLogger.log">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.HelicsLogger.log" title="Link to this definition">¶</a></dt>
<dd><p>Record the data at time <cite>time</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> (<em>float</em>) – Current time from HELICS.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.logger.LoggingFederate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.logger.</span></span><span class="sig-name descname"><span class="pre">LoggingFederate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.LoggingFederate" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manager for loggers that record values from other HELICS federates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>federate</strong> (<em>HelicsFederate</em>) – HELICS federate.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.LoggingFederate.add_logger">
<span class="sig-name descname"><span class="pre">add_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ssim.federates.logger.HelicsLogger" title="ssim.federates.logger.HelicsLogger"><span class="pre">HelicsLogger</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.LoggingFederate.add_logger" title="Link to this definition">¶</a></dt>
<dd><p>Add a logger to the federate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique identifier for the logger. If a logger already exists
with the same name an exception is raised.</p></li>
<li><p><strong>logger</strong> (<a class="reference internal" href="#ssim.federates.logger.HelicsLogger" title="ssim.federates.logger.HelicsLogger"><em>HelicsLogger</em></a>) – The logger itself.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the name is already associated with a logger.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.LoggingFederate.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.LoggingFederate.finalize" title="Link to this definition">¶</a></dt>
<dd><p>Finalize all loggers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.LoggingFederate.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.LoggingFederate.initialize" title="Link to this definition">¶</a></dt>
<dd><p>Initialize all loggers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.LoggingFederate.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.LoggingFederate.run" title="Link to this definition">¶</a></dt>
<dd><p>Run for <cite>hours</cite> and invoke loggers whenever HELICS grants a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hours</strong> (<em>float</em>) – Total time to log. [hours]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.logger.PowerLogger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.logger.</span></span><span class="sig-name descname"><span class="pre">PowerLogger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.PowerLogger" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ssim.federates.logger.HelicsLogger" title="ssim.federates.logger.HelicsLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">HelicsLogger</span></code></a></p>
<p>Logging federate state for logging total power on the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_dir</strong> (<em>PathLike</em>) – Directory where output files will be written.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.PowerLogger.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.PowerLogger.finalize" title="Link to this definition">¶</a></dt>
<dd><p>Done recording data.</p>
<p>This can be overridden to save data to file or a database, produce
visualizations, or whatever else needs to be done.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.PowerLogger.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HelicsValueFederate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.PowerLogger.initialize" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the logger by setting up its subscriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>federate</strong> (<em>HelicsFederate</em>) – HELICS federate handle to use for for registering subscriptions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.PowerLogger.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.PowerLogger.log" title="Link to this definition">¶</a></dt>
<dd><p>Record the data at time <cite>time</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> (<em>float</em>) – Current time from HELICS.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.logger.StorageLogger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.logger.</span></span><span class="sig-name descname"><span class="pre">StorageLogger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.StorageLogger" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ssim.federates.logger.HelicsLogger" title="ssim.federates.logger.HelicsLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">HelicsLogger</span></code></a></p>
<p>Logger for storage device state.</p>
<p>Records charging power, discharging power, and state of charge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device_names</strong> (<em>Set</em><em>[</em><em>str</em><em>]</em>) – Names of the devices to monitor.</p></li>
<li><p><strong>output_dir</strong> (<em>PathLike</em><em>, </em><em>optional</em>) – Path to the directory where output files should be saved.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.StorageLogger.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.StorageLogger.finalize" title="Link to this definition">¶</a></dt>
<dd><p>Done recording data.</p>
<p>This can be overridden to save data to file or a database, produce
visualizations, or whatever else needs to be done.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.StorageLogger.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HelicsValueFederate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.StorageLogger.initialize" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the logger by setting up its subscriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>federate</strong> (<em>HelicsFederate</em>) – HELICS federate handle to use for for registering subscriptions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.StorageLogger.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.StorageLogger.log" title="Link to this definition">¶</a></dt>
<dd><p>Record the data at time <cite>time</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> (<em>float</em>) – Current time from HELICS.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.logger.VoltageLogger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.logger.</span></span><span class="sig-name descname"><span class="pre">VoltageLogger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">busses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'storage'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.VoltageLogger" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ssim.federates.logger.HelicsLogger" title="ssim.federates.logger.HelicsLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">HelicsLogger</span></code></a></p>
<p>Record voltage at a set of busses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>busses</strong> (<em>Set</em><em>[</em><em>str</em><em>]</em>) – Set of busses to monitor.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.VoltageLogger.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.VoltageLogger.finalize" title="Link to this definition">¶</a></dt>
<dd><p>Done recording data.</p>
<p>This can be overridden to save data to file or a database, produce
visualizations, or whatever else needs to be done.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.VoltageLogger.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HelicsValueFederate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.VoltageLogger.initialize" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the logger by setting up its subscriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>federate</strong> (<em>HelicsFederate</em>) – HELICS federate handle to use for for registering subscriptions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.logger.VoltageLogger.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.VoltageLogger.log" title="Link to this definition">¶</a></dt>
<dd><p>Record the voltages at <cite>time</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.federates.logger.run_federate">
<span class="sig-prename descclassname"><span class="pre">ssim.federates.logger.</span></span><span class="sig-name descname"><span class="pre">run_federate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_devices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.logger.run_federate" title="Link to this definition">¶</a></dt>
<dd><p>Run a logging federate as <cite>federate</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>federate</strong> (<em>HelicsFederate</em>) – HELICS federate handle.</p></li>
<li><p><strong>storage_devices</strong> (<em>Set</em><em>[</em><em>str</em><em>]</em>) – Names of storage devices to monitor.</p></li>
<li><p><strong>hours</strong> (<em>float</em>) – Number of hours to run before exiting.</p></li>
<li><p><strong>show_plots</strong> (<em>bool</em>) – If true figures are displayed for each logger before exiting.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.federates.logger.to_hours">
<span class="sig-prename descclassname"><span class="pre">ssim.federates.logger.</span></span><span class="sig-name descname"><span class="pre">to_hours</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ssim.federates.logger.to_hours" title="Link to this definition">¶</a></dt>
<dd><p>Convert seconds to hours.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>seconds</strong> (<em>list</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Timestamps in <cite>seconds</cite> converted to <cite>hours</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-ssim.federates.metrics">
<span id="ssim-federates-metrics"></span><h3>ssim.federates.metrics<a class="headerlink" href="#module-ssim.federates.metrics" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ssim.federates.metrics.MetricsFederate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ssim.federates.metrics.</span></span><span class="sig-name descname"><span class="pre">MetricsFederate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.metrics.MetricsFederate" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="simple">
<dt>Manager for metrics and accumulators that record values from other</dt><dd><p>HELICS federates.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>federate</strong> (<em>HelicsMessageFederate</em>) – HELICS federate.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.metrics.MetricsFederate.add_accumulator">
<span class="sig-name descname"><span class="pre">add_accumulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accumulator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ssim.metrics.MetricTimeAccumulator" title="ssim.metrics.MetricTimeAccumulator"><span class="pre">MetricTimeAccumulator</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.metrics.MetricsFederate.add_accumulator" title="Link to this definition">¶</a></dt>
<dd><p>Add a metric to the federate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique identifier for the metric accumulator. If a metric
accumulator already exists with the same name an exception is
raised.</p></li>
<li><p><strong>accumulator</strong> (<a class="reference internal" href="#ssim.metrics.MetricTimeAccumulator" title="ssim.metrics.MetricTimeAccumulator"><em>MetricTimeAccumulator</em></a>) – The metric accumulator to add.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the name is already associated with a metric accumulator.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.metrics.MetricsFederate.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.metrics.MetricsFederate.finalize" title="Link to this definition">¶</a></dt>
<dd><p>Finalize all loggers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ssim.federates.metrics.MetricsFederate.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hours</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.metrics.MetricsFederate.run" title="Link to this definition">¶</a></dt>
<dd><p>Run for <cite>hours</cite> and invoke loggers whenever HELICS grants a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hours</strong> (<em>float</em>) – Total time to log. [hours]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ssim.federates.metrics.run_federate">
<span class="sig-prename descclassname"><span class="pre">ssim.federates.metrics.</span></span><span class="sig-name descname"><span class="pre">run_federate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">federate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hours</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ssim.federates.metrics.run_federate" title="Link to this definition">¶</a></dt>
<dd><p>Run a metrics federate as <cite>federate</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>federate</strong> (<em>HelicsFederate</em>) – HELICS federate handle.</p></li>
<li><p><strong>grid_config</strong></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">storage-sim</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Public API Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuring-a-simulation">Configuring a Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-a-simulation">Running a Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reporting-results">Reporting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#device-api">Device API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#opendss-api">OpenDSS API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#metrics-api">Metrics API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#federates">Federates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ems.html">Energy Management System</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Simulation Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="inverter_controls.html">Inverter Controls Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_examples.html">Instructions on Running Demo Examples</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">QuEST-SSim</a></li>
      <li>Next: <a href="ems.html" title="next chapter">Energy Management System</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2021, John P. Eddy, William F. Vining, Ujjwol Tamrakar.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>