<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Simulation Configuration &#8212; storage-sim  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Metrics" href="metrics.html" />
    <link rel="prev" title="Energy Management System" href="ems.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="simulation-configuration">
<span id="configuration"></span><h1>Simulation Configuration<a class="headerlink" href="#simulation-configuration" title="Link to this heading">¶</a></h1>
<p>Two kinds of configuration files are needed to run the simulation. The firs
is a set of <a class="reference internal" href="#federate-config"><span class="std std-ref">Federate Configuration</span></a> files which are JSON files used directly
by helics for configuring each federate (see
<a class="reference external" href="https://docs.helics.org/en/helics3/references/configuration_options_reference.html">https://docs.helics.org/en/helics3/references/configuration_options_reference.html</a>
for more information about helics configuration options). The other file is
a JSON file specifying the configuration of the grid that is being simulated.
This is described below in <a class="reference internal" href="#grid-config"><span class="std std-ref">Grid Configuration</span></a>.</p>
<section id="grid-configuration">
<span id="grid-config"></span><h2>Grid Configuration<a class="headerlink" href="#grid-configuration" title="Link to this heading">¶</a></h2>
<p>The configuration of the grid is specified in a JSON file that is passed to
each federate (although not every federate uses every field in the JSON file).
The main fields are</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;dss_file&quot;</span></code> which specifies the path to the OpenDSS model file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;storage&quot;</span></code> is a list of storage device specifications (see
<a class="reference internal" href="#storage-config"><span class="std std-ref">Storage Device Configuration</span></a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;reliability&quot;</span></code> provides a JSON object specifying the parameters of the
reliability model.</p></li>
</ul>
<p>An example configuration file is shown in <a class="reference internal" href="#grid-example"><span class="std std-ref">Example Grid Configuration File</span></a></p>
<section id="storage-device-configuration">
<span id="storage-config"></span><h3>Storage Device Configuration<a class="headerlink" href="#storage-device-configuration" title="Link to this heading">¶</a></h3>
<p>These keys are required:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;</span></code> is a unique identifier for the device (among all storage devices)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;bus&quot;</span></code> is the OpenDSS bus where the device is connected</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;kwrated&quot;</span></code> maximum power output of the device</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;kwhrated&quot;</span></code> capacity of the device</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;controller&quot;</span></code> is the controller (value can be <code class="docutils literal notranslate"><span class="pre">&quot;droop&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;cycle&quot;</span></code>.</p></li>
</ul>
<p>If the controller is <code class="docutils literal notranslate"><span class="pre">&quot;droop&quot;</span></code> then <code class="docutils literal notranslate"><span class="pre">&quot;controller_params&quot;</span></code> is required with
a JSON object as its value containing the keys <code class="docutils literal notranslate"><span class="pre">&quot;p_droop&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;q_droop&quot;</span></code>.</p>
<p>Any other keys can be added with names that are valid OpenDSS storage object
parameters (for example <code class="docutils literal notranslate"><span class="pre">&quot;%stored&quot;</span></code>).</p>
</section>
<section id="example-grid-configuration-file">
<span id="grid-example"></span><h3>Example Grid Configuration File<a class="headerlink" href="#example-grid-configuration-file" title="Link to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;dss_file&quot;</span><span class="p">:</span> <span class="s2">&quot;../ieee13demo/ieee13nodeckt.dss&quot;</span><span class="p">,</span>
    <span class="s2">&quot;busses_to_log&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;670&quot;</span><span class="p">,</span> <span class="s2">&quot;632&quot;</span><span class="p">,</span> <span class="s2">&quot;680&quot;</span><span class="p">,</span> <span class="s2">&quot;646&quot;</span><span class="p">,</span> <span class="s2">&quot;611&quot;</span><span class="p">],</span>
    <span class="s2">&quot;storage&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;S1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bus&quot;</span><span class="p">:</span> <span class="s2">&quot;670&quot;</span><span class="p">,</span>
            <span class="s2">&quot;phases&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;kwrated&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;kwhrated&quot;</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
            <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">tored&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
            <span class="s2">&quot;kV&quot;</span><span class="p">:</span> <span class="mf">4.16</span><span class="p">,</span>
            <span class="s2">&quot;controller&quot;</span><span class="p">:</span> <span class="s2">&quot;droop&quot;</span><span class="p">,</span>
            <span class="s2">&quot;controller_params&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;p_droop&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
                <span class="s2">&quot;q_droop&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">250</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;pvsystem&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;PV1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bus&quot;</span><span class="p">:</span> <span class="s2">&quot;671&quot;</span><span class="p">,</span>
            <span class="s2">&quot;phases&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;pmpp&quot;</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
            <span class="s2">&quot;kva_rated&quot;</span><span class="p">:</span> <span class="mi">3600</span><span class="p">,</span>
            <span class="s2">&quot;kV&quot;</span><span class="p">:</span> <span class="mf">4.16</span><span class="p">,</span>
            <span class="s2">&quot;irradiance_profile&quot;</span><span class="p">:</span> <span class="s2">&quot;../ieee13demo/5MinuteIrradiance.csv&quot;</span><span class="p">,</span>
            <span class="s2">&quot;inverter_efficiency&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span>  <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
                                    <span class="s2">&quot;y&quot;</span><span class="p">:</span>  <span class="p">[</span><span class="mf">0.90</span><span class="p">,</span> <span class="mf">0.94</span><span class="p">,</span> <span class="mf">0.98</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">]},</span>
            <span class="s2">&quot;pt_curve&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span>  <span class="p">[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;invcontrol&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;InvCtrl1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;der_list&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;PVsystem.PV1&quot;</span><span class="p">],</span>
            <span class="s2">&quot;inv_control_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;voltvar&quot;</span><span class="p">,</span>
            <span class="s2">&quot;function_curve_1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span>  <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">],</span>
                               <span class="s2">&quot;y&quot;</span><span class="p">:</span>  <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">]}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;reliability&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;seed&quot;</span><span class="p">:</span> <span class="mi">1234567</span><span class="p">,</span>
        <span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;mtbf&quot;</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
            <span class="s2">&quot;min_repair&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;max_repair&quot;</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">},</span>
        <span class="s2">&quot;switch&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;mtbf&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s2">&quot;min_repair&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="s2">&quot;max_repair&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
            <span class="s2">&quot;p_open&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
            <span class="s2">&quot;p_closed&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
            <span class="s2">&quot;p_current&quot;</span><span class="p">:</span> <span class="mf">0.0</span>
        <span class="p">},</span>
        <span class="s2">&quot;generator&quot;</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="s2">&quot;aging&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;mtbf&quot;</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
                <span class="s2">&quot;min_repair&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                <span class="s2">&quot;max_repair&quot;</span><span class="p">:</span> <span class="mf">1.0</span>
            <span class="p">},</span>
            <span class="s2">&quot;operating_wear_out&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;mtbf&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
                <span class="s2">&quot;min_repair&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                <span class="s2">&quot;max_repair&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="federate-configuration">
<span id="federate-config"></span><h2>Federate Configuration<a class="headerlink" href="#federate-configuration" title="Link to this heading">¶</a></h2>
<p>Each federate is initialized from a JSON configuration file. With the exception
of the logger federate, each of federate must have its publications,
subscriptions and endpoints specified in the config file. For storage devices
the configuration looks like this:</p>
<p>For the grid federate (with two connected storage devices as shown in
<a class="reference internal" href="#grid-example"><span class="std std-ref">Example Grid Configuration File</span></a>) the federate configuration looks like this:</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">storage-sim</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">Public API Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="ems.html">Energy Management System</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Simulation Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#grid-configuration">Grid Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#federate-configuration">Federate Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ems.html" title="previous chapter">Energy Management System</a></li>
      <li>Next: <a href="metrics.html" title="next chapter">Metrics</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2021, John P. Eddy, William F. Vining, Ujjwol Tamrakar.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/configuration.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>